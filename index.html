<!DOCTYPE html>
<html>
<head>
<title>Pollen Allergy Alert</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
//API Ambee Pollen Data

const data = null;

const xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
	if (this.readyState === this.DONE) {
		console.log(this.responseText);
	}
});

xhr.open("GET", "https://ambee-pollen-data1.p.rapidapi.com/latest/pollen/by-lat-lng?lat=20.59&lng=78.96");
xhr.setRequestHeader("x-rapidapi-key", "81e8315b72msh91ce76aa3fbe5cfp14fe17jsn5dfeb5c34132");
xhr.setRequestHeader("x-rapidapi-host", "ambee-pollen-data1.p.rapidapi.com");
xhr.withCredentials = false;
xhr.send(data);
	
	

/*
// For Loop to display results based on pollen level
function myFunction(arr) {
	var out = "<h1>Weather</h1>";
	var i;
	for(i = 0; i < arr.lenght; i++) {
		
		out += arr[i].date 
		out += arr[i].temperature 
		out += arr[i].precipitation
		out += arr[i].clouds 
		
		if (arr[i].temperature > 79 && arr[i].precipitation == 0 && arr[i].clouds == 0) {
		out += "<img src= 'clear.png'>" } 
		
			else if (arr[i].temperature > 75 && arr[i].precipitation == 0 && arr[i].clouds == 50)
		{out += "<img src= 'mostlysunny.png'>" }
		
		else if (arr[i].temperature > 70 && arr[i].precipitation > 79  && arr[i].clouds == 100)
		{out += "<img src= 'thunderstorms01.png'>"}
		
		else if (arr[i].temperature < 76 && arr[i].precipitation == 0 && arr[i].clouds == 50)
		{out += "<img src= 'cloudy.png'>"}	
		
	
	}
    document.getElementById("pollenAlert").innerHTML = out;
}
*/
</script>
</head>
<body>
<div id="pollenAlert"></div>
<h1>Check Pollen Allergy:</h1>
<br>
<br>
Zip Code:<input type = "test" placeholder= "Enter Zipcode" id = "zipcode"></input>
<input type="button" onmouseup="getAllergy(21224)" value="Get Allergy">
</body>
</html>